<div class="flex gap-6 p-8 w-full">
  <!-- Main Content -->
  <div class="flex-1">
    <!-- Header -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-2xl font-extrabold text-[#0f1724]">Community Giving</h1>
        <p class="text-sm text-[#536471] mt-1">Support upcoming events and causes that matter.</p>
      </div>
      <div class="flex items-center gap-2 bg-white border border-gray-200 rounded-lg px-4 py-2">
        <span class="text-sm text-[#536471]">My Wallet:</span>
        <span class="text-sm font-bold text-[#56c416]">${{ walletBalance.toFixed(2) }}</span>
      </div>
    </div>

    <!-- Featured Cause Banner -->
    <div class="relative bg-[#38a9f3] rounded-2xl overflow-hidden mb-8">
      <div class="flex">
        <div class="flex-1 p-6 flex flex-col justify-between">
          <div>
            <span class="inline-block bg-[#2196e3] text-white text-xs font-bold px-3 py-1 rounded-full mb-3">{{ featuredCause.category }}</span>
            <h2 class="text-2xl font-extrabold text-white leading-tight mb-2">{{ featuredCause.title }}</h2>
            <p class="text-sm text-white/80 leading-relaxed max-w-md">{{ featuredCause.description }}</p>
          </div>
          <div class="mt-4">
            <div class="flex items-center justify-between text-sm mb-2">
              <span class="text-white font-bold">${{ featuredCause.raised | number }} raised</span>
              <span class="text-white/80">Goal: ${{ featuredCause.goal | number }}</span>
            </div>
            <div class="w-full bg-white/30 rounded-full h-2">
              <div class="bg-white rounded-full h-2 transition-all" [style.width.%]="progressPercent"></div>
            </div>
          </div>
        </div>
        <div class="w-[280px] h-[200px] shrink-0">
          <img [src]="featuredCause.image" [alt]="featuredCause.title" class="w-full h-full object-cover" />
        </div>
      </div>
    </div>

    <!-- All Opportunities -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg font-extrabold text-[#0f1724]">All Opportunities</h2>
      <div class="flex items-center gap-2">
        @for (tab of tabs; track tab) {
          <button
            class="px-4 py-1.5 rounded-full text-sm font-medium border transition-colors"
            [class.bg-[#0f1724]]="activeTab === tab"
            [class.text-white]="activeTab === tab"
            [class.border-[#0f1724]]="activeTab === tab"
            [class.bg-white]="activeTab !== tab"
            [class.text-[#536471]]="activeTab !== tab"
            [class.border-gray-200]="activeTab !== tab"
            [class.hover:bg-gray-50]="activeTab !== tab"
            (click)="activeTab = tab"
          >
            {{ tab }}
          </button>
        }
      </div>
    </div>

    <!-- Cause Cards -->
    <div class="flex flex-col gap-6">
      @for (cause of filteredCauses; track cause.id) {
        <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden">
          <div class="h-[180px] w-full overflow-hidden">
            <img [src]="cause.image" [alt]="cause.title" class="w-full h-full object-cover" />
          </div>
          <div class="p-5">
            <div class="flex items-center justify-between mb-1">
              <h3 class="text-base font-bold text-[#0f1724]">{{ cause.title }}</h3>
              <span class="text-xs text-[#536471] bg-gray-100 px-2 py-0.5 rounded">{{ cause.category }}</span>
            </div>
            <p class="text-sm text-[#536471] mb-3 leading-relaxed">{{ cause.description }}</p>
            <div class="flex items-center gap-4 text-xs text-[#536471] mb-4">
              @if (cause.startDate) {
                <span class="flex items-center gap-1">
                  <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" /></svg>
                  {{ cause.startDate }}
                </span>
              }
              @if (cause.location) {
                <span class="flex items-center gap-1">
                  <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                  {{ cause.location }}
                </span>
              }
              <span class="flex items-center gap-1">
                <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" /></svg>
                {{ cause.backers }} backers
              </span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-[#56c416]">${{ cause.raised | number }} raised</span>
              <button class="bg-[#38a9f3] text-white text-sm font-semibold px-5 py-2 rounded-lg hover:bg-[#2196e3] transition-colors">
                Donate
              </button>
            </div>
          </div>
        </div>
      }
    </div>
  </div>

  <!-- Right Sidebar -->
  <div class="w-[340px] shrink-0">
    <!-- My Impact Card -->
    <div class="bg-white border border-gray-200 rounded-2xl p-5 mb-4">
      <div class="flex items-center gap-3 mb-4">
        <div class="w-10 h-10 bg-[#fef3c7] rounded-full flex items-center justify-center">
          <svg class="w-5 h-5 text-[#f59e0b]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
        </div>
        <div>
          <h3 class="text-sm font-bold text-[#0f1724]">My Impact</h3>
          <p class="text-xs text-[#94a3b8]">Thank you for caring!</p>
        </div>
      </div>

      <div class="flex gap-3 mb-5">
        <div class="flex-1 bg-[#f0f9ff] rounded-xl p-3 text-center">
          <p class="text-lg font-bold text-[#38a9f3]">${{ totalDonated }}</p>
          <p class="text-[11px] text-[#94a3b8]">Donated Total</p>
        </div>
        <div class="flex-1 bg-[#f0fdf4] rounded-xl p-3 text-center">
          <p class="text-lg font-bold text-[#56c416]">{{ causesHelped }}</p>
          <p class="text-[11px] text-[#94a3b8]">Causes Helped</p>
        </div>
      </div>

      <h4 class="text-sm font-bold text-[#0f1724] mb-3">Recent Donations</h4>
      <div class="flex flex-col gap-3">
        @for (donation of recentDonations; track donation.message) {
          <div class="flex items-center justify-between py-2 border-b border-gray-100 last:border-0">
            <div>
              <p class="text-[13px] font-semibold text-[#0f1724]">{{ donation.message }}</p>
              <p class="text-[11px] text-[#94a3b8]">{{ donation.donatedAt }}</p>
            </div>
            <span class="text-[13px] font-semibold text-[#0f1724]">${{ donation.amount.toFixed(2) }}</span>
          </div>
        }
      </div>

      <button class="w-full mt-4 py-2 border-2 border-[#0f1724] text-[13px] font-medium text-[#0f1724] hover:bg-gray-50 transition-colors">
        View Full History
      </button>
    </div>
  </div>
</div>
